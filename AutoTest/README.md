# AutoTest 自动化测试脚本

## 脚本列表

- eval_1.py - 检查用户在会议中关闭麦克风时是否正确记录静音状态
- eval_2.py - 检查用户在会议中开启摄像头时是否正确记录摄像头状态
- eval_3.py - 检查能否正确查看最近结束的会议记录
- eval_4.py - 检查对参会人进行麦克风静音或解除静音操作后是否正确记录
- eval_5.py - 检查在会议内发送指定内容的消息后是否正确记录
- eval_6.py - 检查创建并直接进入快速会议后是否正确记录
- eval_7.py - 检查预约指定时间会议后是否正确记录
- eval_8.py - 检查播放上一场会议回放时是否能正确找到上一场已结束的会议
- eval_9.py - 检查用会议号和密码加入会议后是否正确记录参会信息
- eval_10.py - 检查通过会议邀请链接加入会议后是否正确记录参会信息
- eval_11.py - 检查开启手机屏幕共享后是否正确记录
- eval_12.py - 检查举手申请发言后是否正确记录
- eval_13.py - 检查查看上一场会议记录及会议时长的功能
- eval_14.py - 检查打开参会人列表并给指定人发消息后是否正确记录
- eval_15.py - 检查与指定人创建并进入快速会议后是否正确记录
- eval_16.py - 检查预约会议并邀请指定人后是否正确记录
- eval_17.py - 检查搜索手机号用户并添加好友功能
- eval_18.py - 检查预约会议、邀请人员并全程录制的功能
- eval_19.py - 检查查看未进会议人员并重新邀请的功能
- eval_20.py - 检查打开通讯录、邀请联系人并复制邀请链接的功能

## 使用说明

所有脚本已更新为从Android模拟器中读取JSON数据文件,而不是从本地文件系统读取。每个脚本都使用ADB命令从模拟器的应用私有存储区域提取数据。

### 前置条件

1. Android模拟器正在运行
2. 腾讯会议APP已安装
3. ADB工具可用(路径: D:\AndroidStudio\platform-tools\adb.exe)

### 首次使用步骤

**第一步: 推送测试数据到模拟器**

在运行测试脚本之前,需要先将测试数据推送到Android模拟器中:

```bash
python push_test_data.py
```

这个脚本会将 `app/src/main/assets/data/` 目录下的所有JSON测试数据文件推送到模拟器的APP私有存储区域。

**第二步: 运行测试脚本**

推送数据后,就可以运行任意测试脚本了:

```bash
python eval_1.py
python eval_2.py
# ... 等等
```

### 工作原理

每个eval脚本的工作流程:
1. 通过ADB命令从模拟器读取JSON文件: `adb exec-out run-as com.example.tencentmeeting cat files/xxx.json`
2. 将数据保存到本地临时文件
3. 解析JSON并进行验证
4. 返回测试结果(True/False)

### 注意事项

- 如果测试数据被APP修改,需要重新运行 `push_test_data.py` 来恢复初始数据
- 确保模拟器在运行测试前已启动
- 如果遇到 "JSONDecodeError: Expecting value" 错误,说明测试数据还没有推送到模拟器,请先运行 `push_test_data.py`

